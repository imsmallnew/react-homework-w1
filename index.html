<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React 第一週作業</title>
    <!-- React CDN link -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- babel CDN link -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        // Date Source
        const productLists = [
        {
          category: "甜甜圈",
          content: "尺寸：14x14cm",
          description: "濃郁的草莓風味，中心填入滑順不膩口的卡士達內餡，帶來滿滿幸福感！",
          id: "-L9tH8jxVb2Ka_DYPwng",
          is_enabled: 1,
          origin_price: 150,
          price: 99,
          title: "草莓莓果夾心圈",
          unit: "元",
          num: 10,
          imageUrl: "https://images.unsplash.com/photo-1583182332473-b31ba08929c8",
          imagesUrl: [
            "https://images.unsplash.com/photo-1583182332473-b31ba08929c8",
            "https://images.unsplash.com/photo-1626094309830-abbb0c99da4a",
            "https://images.unsplash.com/photo-1559656914-a30970c1affd"
          ]
        },
        {
          category: "蛋糕",
          content: "尺寸：6寸",
          description: "蜜蜂蜜蛋糕，夾層夾上酸酸甜甜的檸檬餡，清爽可口的滋味讓人口水直流！",
          id: "-McJ-VvcwfN1_Ye_NtVA",
          is_enabled: 1,
          origin_price: 1000,
          price: 900,
          title: "蜂蜜檸檬蛋糕",
          unit: "個",
          num: 1,
          imageUrl: "https://images.unsplash.com/photo-1627834377411-8da5f4f09de8?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1001&q=80",
          imagesUrl: [
            "https://images.unsplash.com/photo-1627834377411-8da5f4f09de8?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1001&q=80",
            "https://images.unsplash.com/photo-1618888007540-2bdead974bbb?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=987&q=80",
          ]
        },
        {
          category: "蛋糕",
          content: "尺寸：6寸",
          description: "法式煎薄餅加上濃郁可可醬，呈現經典的美味及口感。",
          id: "-McJ-VyqaFlLzUMmpPpm",
          is_enabled: 1,
          origin_price: 700,
          price: 600,
          title: "暗黑千層",
          unit: "個",
          num: 15,
          imageUrl: "https://images.unsplash.com/photo-1505253149613-112d21d9f6a9?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NDZ8fGNha2V8ZW58MHx8MHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=700&q=60",
          imagesUrl: [
            "https://images.unsplash.com/photo-1505253149613-112d21d9f6a9?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NDZ8fGNha2V8ZW58MHx8MHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=700&q=60",  
            "https://images.unsplash.com/flagged/photo-1557234985-425e10c9d7f1?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTA5fHxjYWtlfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=700&q=60",
            "https://images.unsplash.com/photo-1540337706094-da10342c93d8?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NDR8fGNha2V8ZW58MHx8MHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=700&q=60"
          ]
        }
      ];        

        // HTML Content
        function App() {
            const [tempProduct, setTempProduct] = React.useState(null);
            const [tempImgUrl, setTempImgUrl] = React.useState(null);
            
            return (
                <div className="container">
                    <div className="row">
                        <div className="col-md-12 mt-5 mb-5">
                            <kbd>產品列表</kbd>
                            <table className="table mt-3">
                                <thead>
                                    <tr className="table-info border-2">
                                        <th scope="col">產品名稱</th>
                                        <th scope="col">原價</th>
                                        <th scope="col">售價</th>
                                        <th scope="col">是否啟用</th>
                                        <th scope="col">查看內容</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {productLists.map((item)=>{
                                        return (
                                            <tr key={item.id}>
                                                <td>{item.title}</td>
                                                <td>{item.origin_price}</td>
                                                <td>{item.price}</td>
                                                <td>{item.is_enabled ? "Y" : "N"}</td>
                                                <td><button type="button" className="btn btn-primary" onClick={(v)=>{
                                                    console.log(v);
                                                    setTempProduct(item)
                                                    setTempImgUrl(item.imageUrl)
                                                }}>查看內容</button></td>
                                            </tr>
                                            )
                                        })}
                                </tbody>
                            </table>
                        </div>
                        <div className="col-md-12 mb-5">
                            <kbd>產品內容</kbd>
                            {tempProduct ? (
                            <div className="card mt-3">
                                <div className="row">
                                    <div className="col-md-4">
                                        <img src={tempImgUrl} className="img-fluid w-100 h-100 p-3" alt="主圖" />
                                    </div>
                                    <div className="col-md-8">
                                        <div className="card-body pl-3 pr-3">
                                            <h2 className="card-title">{tempProduct.title}</h2><h5><span className="badge bg-primary">{tempProduct.category}</span></h5>
                                            <p className="card-text">商品描述: <small className="text-muted">{tempProduct.description}</small></p>
                                            <p className="card-text">商品內容: <small className="text-muted">{tempProduct.content}</small></p>
                                            <div className="d-flex">
                                                <h4 className="card-text text-danger fw-bold">{tempProduct.price} 元  / </h4><h4 className="card-text text-secondary"><del>{tempProduct.origin_price} 元</del></h4>
                                               </div>
                                            <p className="mt-3">更多圖片(點圖放大)：</p>
                                            <div className="row">
                                            {tempProduct?.imagesUrl?.map((item, index)=>{
                                                    return (
                                                        <div key={index} className="col-md-4">
                                                        <img src={item} className="card-img w-100 h-100 text-start" alt="副圖" onClick={()=>{setTempImgUrl(item)}}/>
                                                        </div>
                                                    )
                                            })}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            ) : (<div className="text-muted mt-3">請點選按鈕查看內容</div>)}
                        </div>
                    </div>
                </div>
            )
        }

        // Initialize
        const root = ReactDOM.createRoot(document.getElementById("root"));
        root.render(<App />);
    </script>
</body>
</html>